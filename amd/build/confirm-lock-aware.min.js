/**
 * Ask student to confirm that they are aware that editing will be locked.
 *
 * @copyright  2020 Xi'an Jiaotong-Liverpool University
 * @author     Frédéric Massart <fred@branchup.tech>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_peerwork/confirm-lock-aware",["jquery","core/str","core/notification"],(function($,Str,Notification){const strings=[{key:"areyousure",component:"core"},{key:"confirmlockeditingaware",component:"mod_peerwork"},{key:"yes",component:"core"},{key:"no",component:"core"}];return{init:function(selector){const stringsPromise=Str.get_strings(strings).catch(Notification.exception);$(selector).on("submit",(e=>{if(this._confirmed)return;e.preventDefault();const form=$(e.target);stringsPromise.then((_ref=>{let[title,question,yesLabel,noLabel]=_ref;return Notification.confirm(title,question,yesLabel,noLabel,(()=>{this._confirmed=!0,form.submit()}))})).catch(Notification.exception)}))}}}));

//# sourceMappingURL=confirm-lock-aware.min.js.map