/**
 * Revised grades total calculator.
 *
 * @copyright  2019 Coventry University
 * @author     Frédéric Massart <fred@branchup.tech>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_peerwork/revised-grades-total-calculator",["jquery"],(function($){return{init:function(tableSelector){var tableNode=$(tableSelector),fieldNodes=tableNode.find('input[name^="grade_"]'),totalNode=tableNode.find(".total-revised-grade"),updateTotal=()=>{var loadedTotal=(()=>{let total=null;return fieldNodes.each((function(i,field){var node=$(field),value=parseFloat(node.val().replace(",","."));value&&!isNaN(value)&&(total=(total||0)+value)})),total})();null!==loadedTotal?totalNode.text(loadedTotal.toFixed(2)):totalNode.text("")};fieldNodes.on("change",(function(){updateTotal()})),updateTotal()}}}));

//# sourceMappingURL=revised-grades-total-calculator.min.js.map